{% extends "page.html" %}

{% block content %}
<h3>Online Homework Management System (OHMS)</h3>

<div id="homework">

<h3 id="homework_name">{{ homework.name }} (Due: {{ homework.due_date }} PST)</h3>

<!--
<p><b>Instructions:</b></p>
<small>
  <ul>
    <li>To discourage random guessing, you may only make one submission 
every 6 hours. However, your first submission is free (i.e., no wait 
between the first and second submissions).</li>
    <li>After you submit your response to a question, your score on that
question will be shown above it.
    <li>Yes, you can (and we hope you all will) get 100% on this
    assignment by trying again and again. &#9786;</li>
  </ul>
</small>
!-->

<div id="homework_text"></div>

<hr/>

{% for q in homework.questions %}

<div class='question' id='q{{q.id}}' points='{{q.points}}'>
  <h3 class='questionName'>Question {{loop.index}}
{% if q.name %}
: {{q.name|safe}}
{% endif %}
  </h3>

  {% if user.type == "admin" %}
  <form action="../admin.cgi/view_responses?q={{ q.id }}" method="POST">
    <input type="checkbox" name="calibration" value="true"/> I'm selecting calibration responses. 
    <input type="submit" value="View Student Responses"/>
  </form>
  {% endif %}

  <table class='frame'>
    <tr><td class='score'><strong>This problem is worth {{q.points}} points.</strong></td></tr>
    <tr><td class='alert'><h5>Comments:</h5> <p class='comments'></p></td></tr>
    <tr><td class='body'>
	{% if user.type == "admin" %}
	<textarea class="source span8" style="display:none;" rows="50">{{q.xml}}</textarea>
	<div class="editable">
	{% endif %}
	{{q|safe}}
	{% if user.type == "admin" %}
	</div>
	{% endif %}
    </td></tr>
  </table>

  <button class='submit' disabled>Submit Response</button>&nbsp; <span class='time'></span>
</div>

<hr/>
{% endfor %}

</div>
{% endblock %}

