<html>

  <head>
    <title>OHMS Admin Panel</title>
    <link href="{{options.base_url}}/{{options.static}}/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{options.base_url}}/{{options.static}}/css/style.css" rel="stylesheet">
  </head>

  <body>

    <div class='span12'>

    <h3>OHMS Admin Panel</h3>

    <form action="change_user" method="POST">
    I want to see the view of the user: <input type="text" name="user"/> <input type="submit" value="Change View!"/>
    </form>

    <hr/>

    <h3>Gradebook</h3>

    <p>Grades are only shown for students in the class. To exclude a student from the list, change his or her status to "Guest".</p>

    <table class="table">
      <thead>
	<th>Student</th>
	<th>Type</th>
	<th></th>
	{% for assignment in assignments %}
	<th>{{ assignment }}</th>
	{% endfor %}
      </thead>
      {% for student, grades in gradebook %}
        <tr>
	  <td>{{ student.name }}</td>
	  <form target="_blank" action="change_user_type" method="POST">
	  <td>
	    <input type="hidden" name="user" value="{{ student.stuid }}" />
	    <select name="type" class="input-small">
	      <option value="student" selected>Student</option>
	      <option value="guest">Guest</option>
	      <option value="admin">Admin</option>
	    </select>
	  </td>
	  <td>
	    <input type="submit" value="Update!" />
	  </td>
	  </form>
	  {% for grade in grades %}
	  <td>{{ grade.score }} / {{ grade.points }}</td>
	  {% endfor %}
	</tr>
      {% endfor %}
    </table>

    <hr/>

    <h3>Other Users</h3>

    <table class="table">
      <thead>
	<th>Guests</th>
	<th>Actions</th>
      </thead>
      {% for guest in guests %}
        <tr>
	  <td>{{ guest.name }}</td>
	  <form target="_blank" action="change_user_type" method="POST">
	  <td>
	    <input type="hidden" name="user" value="{{ guest.stuid }}" />
	    <select name="type" class="input-small">
	      <option value="student">Student</option>
	      <option value="guest" selected>Guest</option>
	      <option value="admin">Admin</option>
	    </select>
	    <input type="submit" value="Update!" />
	  </td>
	  </form>
	</tr>
      {% endfor %}
    </table>

    <table class="table">
      <thead>
	<th>Admins</th>
	<th>Actions</th>
      </thead>
      {% for admin in admins %}
        <tr>
	  <td>{{ admin.name }}</td>
	  <form target="_blank" action="change_user_type" method="POST">
	  <td>
	    <input type="hidden" name="user" value="{{ admin.stuid }}" />
	    <select name="type" class="input-small">
	      <option value="student">Student</option>
	      <option value="guest">Guest</option>
	      <option value="admin" selected>Admin</option>
	    </select>
	    <input type="submit" value="Update!" />
	  </td>
	  </form>
	</tr>
      {% endfor %}
    </table>


    </div>

  </body>

</html>
